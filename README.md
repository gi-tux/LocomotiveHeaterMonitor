# LocomotiveHeaterMonitor
This is a project to build a monitoring system for a locomotive heater built from a pool heater for a railroad.  The pool heater heats water to approximately 105 degrees fahrenheit and this water is run through the locomotive engine(s) and turbochargers using a small pump.  Having the locomotive engine(s) preheated makes starting them much easier.  This heater system is being used at the North Alabama Railroad Museum to preheat the engines on our Alco locomotives.

This application, a system to monitor the heater and pump, will be built using a Raspberry Pi and the Python programming language.  The application will run when the Pi is booted and will automatically start the monitoring function based upon temperature differences between air temperature and output temperature from the locomotive.  The temperature readings will be taken from DS18B20 sensors.  The temperature will be read at a configurable interval (every five seconds by default) and a configurable number of consequtive (twelve by default) readings will cause an alert to be sent.

The python language on the Raspberry Pi interacts with the DS18B20 sensors as a file in the sys file system.  The specification for these files is published on the internet in several places, so it will not be described here again.  All that is important to know on this here is that the file contains the temperature in 1/1000th of degrees centigrade.  For use in this program, intended for use in the US, the temperature will be converted to degrees fahrenheit.

The system will alert users via email when certain criteria are reached.  An alert will continue to be sent at a regular interval (five minutes by default) until one of the users acknowledges the alert.  The application will provide a way to cease alerts once they have been tiggered and acknowledged.  The alert will contain the temperature readings for all of the sensors and will indicate which sensor triggered the alert.

The system will need to monitor the air temperature as well as the input temperature of the water lines to the locomotives and output temperature of the water lines from each of two locomotives.  This will mean that four temperature sensors will need to be monitored.  Air temperatures less than a configurable value (32 by default) will cause an alert to be sent, unless the heater system is running.  Since a freezing air temperature could cause water in the locomotive to freeze, it is important to know when the temperature goes below freezing and whether there is water in the locomotive.

Once the ouput temperature of the water lines from each locomotive raises above a configurable value (90 degrees fahrenheit by default), monitoring will begin.  If the output temperature or the input temperature falls below 90 degrees F after this point the alert decision will need to be made.  An alert may not be sent on a single reading falling below the configured value.  A series of consequtive readings are required to trigger an alert as mentioned above.

If the temperature at the output of the water heater remains high enough, but the output from the locomotives falls below the configured range, this would indicate that the pump is not pumping water.  It may have lost prime or it may have failed.  If the temperature of the output of the water heater drops below the configured range, this would indicate that the heater has stopped working.  It may have failed or run out of fuel.
